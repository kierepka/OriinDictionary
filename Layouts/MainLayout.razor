@using OriinDic.Helpers
@layout RootLayout
@inherits LayoutComponentBase

<Layout Sider="true">
    <LayoutSider>
        <LayoutSiderContent>
            <Bar Breakpoint="Breakpoint.Desktop" NavigationBreakpoint="Breakpoint.Tablet" ThemeContrast="ThemeContrast.Dark"
                 Mode="BarMode.VerticalInline" CollapseMode="BarCollapseMode.Small">
                <BarToggler />

                <BarBrand>
                    <SidebarLink To="/" Title="@_myText.HeaderShowDashboardBase">
                        @_myText.ShortHeader
                    </SidebarLink>
                </BarBrand>
                <BarMenu>
                    <BarStart>
                        
                            <BarLabel>@_myText.HeaderMain</BarLabel>
                            <BarItem>
                                <BarLink To="/" Title="@_myText.HeaderShowDashboardBase">
                                    <Icon Name="IconName.Search" Margin="Margin.Is3.FromRight" />@_myText.HeaderDashboard
                                </BarLink>
                            </BarItem>
                            <AuthorizeView Roles="@Const.RolesEditors">
                                <Authorized>
                                    <BarItem>
                                        <BarLink To="comments" Title="@_myText.Comments">
                                            <Icon Name="IconName.Mail" Margin="Margin.Is3.FromRight" />@_myText.Comments
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarLink To="links" Title="@_myText.Links">
                                            <Icon Name="IconName.MoreHorizontal" Margin="Margin.Is3.FromRight" />@_myText.Links
                                        </BarLink>
                                    </BarItem>
                                </Authorized>
                            </AuthorizeView>
                            <AuthorizeView Roles="@Const.RolesBaseEditors">
                                <Authorized>
                                    <BarItem>
                                        <SidebarLink To="addbaseterm" Title="@_myText.AddBase">
                                            <Icon Name="IconName.Add" Margin="Margin.Is3.FromRight" />@_myText.AddBase
                                        </SidebarLink>
                                    </BarItem>
                                </Authorized>
                            </AuthorizeView>
                            <BarLabel>@_myText.HeaderUser</BarLabel>
                            <AuthorizeView>
                                <Authorized>
                                    <BarItem>
                                        <BarLink To="LogOut" Title="@_myText.LogOut">
                                            <Icon Name="IconName.User" Margin="Margin.Is3.FromRight" />@_myText.LogOut
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarLink To="PersonalData" Title="@_myText.PersonalData">
                                            <Icon Name="IconName.User" Margin="Margin.Is3.FromRight" />@_myText.PersonalData
                                        </BarLink>
                                    </BarItem>
                                </Authorized>
                                <NotAuthorized>
                                    <SidebarItem>
                                        <BarLink To="Login" Title="@_myText.LogIn">
                                            <Icon Name="IconName.User" Margin="Margin.Is3.FromRight" />@_myText.LogIn
                                        </BarLink>
                                    </SidebarItem>
                                </NotAuthorized>
                            </AuthorizeView>
                            <AuthorizeView Roles="@Const.RolesUsersEditors">
                                <Authorized>
                                    <BarItem>
                                        <BarLink To="Users" Title="@_myText.LogIn">
                                            <Icon Name="IconName.User" Margin="Margin.Is3.FromRight" />@_myText.Users
                                        </BarLink>
                                    </BarItem>
                                </Authorized>
                            </AuthorizeView>

                            <BarItem>
                                <BarLink To="Settings" Title="@_myText.PersonalSettings">
                                    <Icon Name="IconName.Dashboard" Margin="Margin.Is3.FromRight" />@_myText.PersonalSettings
                                </BarLink>
                            </BarItem>
                            <BarLabel>@_myText.HeaderDictionaries</BarLabel>
                            <BarItem>
                                <BarLink To="dictionaryLanguages" Title="@_myText.HeaderShowLanguages">
                                    <Icon Name="IconName.Dashboard" Margin="Margin.Is3.FromRight" />@_myText.HeaderLanguages
                                </BarLink>
                            </BarItem>
                        </BarStart>
                    </BarMenu>

            </Bar>
</LayoutSiderContent>
    </LayoutSider>
    <Layout>
        <LayoutHeader Fixed="true">

            <Bar Breakpoint="Breakpoint.Desktop"
                 Background="Background.Secondary"
                 NavigationBreakpoint="Breakpoint.Tablet"
                 ThemeContrast="ThemeContrast.Dark"
                 Mode="BarMode.Horizontal"
                 CollapseMode="BarCollapseMode.Small">

                <BarToggler />
                <BarMenu>
                    <BarStart>
                        <BarItem>
                            <AuthorizeView>
                                <Authorized>
                                    <BarLink To="PersonalData">
                                        <Icon Name="IconName.User" /> @_myText.Hello, @context?.User?.Identity?.Name!
                                    </BarLink>
                                    <BarLink To="LogOut">@_myText.LogOut</BarLink>
                                </Authorized>
                                <NotAuthorized>
                                    <BarLink To="Login">@_myText.LogIn</BarLink>
                                </NotAuthorized>
                            </AuthorizeView>
                        </BarItem>
                    </BarStart>
                    <BarEnd>
                        <BarItem>
                            <BarDropdown>
                                <BarDropdownToggle class="oi oi-globe">
                                    @_currentLanguage
                                </BarDropdownToggle>
                                <BarDropdownMenu>
                                    <BarDropdownItem Clicked="@EnUiLanguageClicked">EN</BarDropdownItem>
                                    <BarDropdownItem Clicked="@PlUiLanguageClicked">PL</BarDropdownItem>
                                </BarDropdownMenu>
                            </BarDropdown>
                        </BarItem>

                        <BarItem>
                            <BarLink To="https://www.popko.pl/" Target="Target.Blank" Title="www.popko.pl">POPKO</BarLink>
                        </BarItem>

                    </BarEnd>
                </BarMenu>
            </Bar>
        </LayoutHeader>
        @Body
        <LayoutContent Padding="Padding.Is4.OnX">
            @Body
        </LayoutContent>
    </Layout>
</Layout>