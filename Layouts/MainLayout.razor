@using OriinDic.Helpers
@layout OriinDic.Layouts.RootLayout
@inherits LayoutComponentBase

<Layout Sider="true">
    <LayoutSider>
        <LayoutSiderContent>
            <Bar Breakpoint="Breakpoint.Desktop" NavigationBreakpoint="Breakpoint.Tablet" ThemeContrast="ThemeContrast.Light"
                 Mode="BarMode.VerticalPopout" CollapseMode="BarCollapseMode.Small">
                <BarToggler />

                <BarBrand>
                    <BarItem>
                        <BarLink To="" Title="@_myText.HeaderShowDashboard">
                            <BarIcon IconName="customIcon" />
                            @_myText.ShortHeader
                        </BarLink>
                    </BarItem>
                </BarBrand>
                <BarMenu>
                    <BarStart>
                        <BarLabel>@_myText.HeaderMain</BarLabel>
                        <BarItem>
                            <BarLink To="/" Title="@_myText.HeaderShowDashboard">
                                <BarIcon IconName="IconName.Search" Margin="Margin.Is3.FromRight" />@_myText.HeaderDashboard
                            </BarLink>
                        </BarItem>
                        <AuthorizeView Roles="@Const.RolesEditors">
                            <Authorized>
                                <BarItem>
                                    <BarLink To="comments" Title="@_myText.Comments">
                                        <BarIcon IconName="@("fa-comments")" Margin="Margin.Is3.FromRight" />@_myText.Comments
                                    </BarLink>
                                </BarItem>
                                <BarItem>
                                    <BarLink To="links" Title="@_myText.Links">
                                        <BarIcon IconName="@("fa-link")" Margin="Margin.Is3.FromRight" />@_myText.Links
                                    </BarLink>
                                </BarItem>
                            </Authorized>
                        </AuthorizeView>
                        <AuthorizeView Roles="@Const.RolesBaseEditors">
                            <Authorized>
                                <BarItem>
                                    <BarLink To="addbaseterm" Title="@_myText.AddBase">
                                        <BarIcon IconName="@("fa-scroll")" Margin="Margin.Is3.FromRight" />@_myText.AddBase
                                    </BarLink>
                                </BarItem>
                            </Authorized>
                        </AuthorizeView>
                        <BarLabel>@_myText.HeaderUser</BarLabel>
                        <AuthorizeView>
                            <Authorized>
                                <BarItem>
                                    <BarLink To="LogOut" Title="@_myText.LogOut">
                                        <BarIcon IconName="IconName.User" Margin="Margin.Is3.FromRight" />@_myText.LogOut
                                    </BarLink>
                                </BarItem>
                                <BarItem>
                                    <BarLink To="PersonalData" Title="@_myText.PersonalData">
                                        <BarIcon IconName="IconName.UserCheck" Margin="Margin.Is3.FromRight" />@_myText.PersonalData
                                    </BarLink>
                                </BarItem>
                            </Authorized>
                            <NotAuthorized>
                                <BarItem>
                                    <BarLink To="Login" Title="@_myText.LogIn">
                                        <BarIcon IconName="IconName.UserCircle" Margin="Margin.Is3.FromRight" />@_myText.LogIn
                                    </BarLink>
                                </BarItem>
                            </NotAuthorized>
                        </AuthorizeView>
                        <AuthorizeView Roles="@Const.RolesUsersEditors">
                            <Authorized>
                                <BarItem>
                                    <BarLink To="Users" Title="@_myText.Users">
                                        <BarIcon IconName="@("fa-users")" Margin="Margin.Is3.FromRight" />@_myText.Users
                                    </BarLink>
                                </BarItem>
                            </Authorized>
                        </AuthorizeView>

                        <BarItem>
                            <BarLink To="Settings" Title="@_myText.PersonalSettings">
                                <BarIcon IconName="@("fa-cogs")" Margin="Margin.Is3.FromRight" />@_myText.PersonalSettings
                            </BarLink>
                        </BarItem>
                        <BarLabel>@_myText.HeaderDictionaries</BarLabel>
                        <BarItem>
                            <BarLink To="dictionaryLanguages" Title="@_myText.HeaderShowLanguages">
                                <BarIcon IconName="@("fa-language")" Margin="Margin.Is3.FromRight" />@_myText.HeaderLanguages
                            </BarLink>
                        </BarItem>
                    </BarStart>
                </BarMenu>

            </Bar>
        </LayoutSiderContent>
    </LayoutSider>
    <Layout>
        <LayoutHeader Fixed="true">

            <Bar Breakpoint="Breakpoint.Desktop" Background="Background.Secondary" ThemeContrast="ThemeContrast.Dark">
                <BarToggler Mode="BarTogglerMode.Popout" />
                <BarMenu>
                    <BarStart>
                        <BarItem>
                            <AuthorizeView>
                                <Authorized>
                                    <BarLink To="PersonalData">
                                        <BarIcon IconName="IconName.UserCheck" />&nbsp;@_myText.Hello, @context?.User?.Identity?.Name!
                                    </BarLink>
                                    <BarLink To="LogOut">@_myText.LogOut</BarLink>
                                </Authorized>
                                <NotAuthorized>
                                    <BarLink To="Login">@_myText.LogIn</BarLink>
                                </NotAuthorized>
                            </AuthorizeView>
                        </BarItem>
                    </BarStart>
                    <BarEnd>
                        <BarItem>
                            <BarDropdown>
                                <BarDropdownToggle class="oi oi-globe">
                                    @_currentLanguage
                                </BarDropdownToggle>
                                <BarDropdownMenu>
                                    <BarDropdownItem Clicked="@EnUiLanguageClicked">EN</BarDropdownItem>
                                    <BarDropdownItem Clicked="@PlUiLanguageClicked">PL</BarDropdownItem>
                                </BarDropdownMenu>
                            </BarDropdown>
                        </BarItem>

                        <BarItem>
                            <BarLink To="https://www.popko.pl/" Target="Target.Blank" Title="www.popko.pl">POPKO</BarLink>
                        </BarItem>

                    </BarEnd>
                </BarMenu>
            </Bar>

        </LayoutHeader>
        <LayoutContent Padding="Padding.Is4.OnX">
            @Body
        </LayoutContent>
    </Layout>
</Layout>